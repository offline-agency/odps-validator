(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9287)}])},9287:(e,r,s)=>{"use strict";s.r(r),s.d(r,{__N_SSG:()=>i,default:()=>o});var a=s(7876),t=s(4232),l=s(3423),n=s(7808),c=s.n(n),i=!0;function o(e){let{versions:r}=e,[s,n]=(0,t.useState)(r[0]),[i,o]=(0,t.useState)(""),[d,h]=(0,t.useState)(null),m=async e=>{e.preventDefault();try{let e,r="/schemas/".concat(s,"/odps.yaml"),a=await fetch(r);if(!a.ok)throw Error("Failed to load local schema: ".concat(a.statusText));let t=await a.text(),n=l.Hh(t);try{e=JSON.parse(i)}catch(r){e=l.Hh(i)}let o=new(c())({allErrors:!0,strict:!1}).compile(n),d=o(e);h({valid:d,errors:o.errors})}catch(e){h({error:e.message})}};return(0,a.jsxs)("div",{className:"container vh-100 d-flex flex-column justify-content-center align-items-center",children:[(0,a.jsxs)("div",{className:"w-75",children:[(0,a.jsx)("h1",{className:"text-center mb-4",children:"ODPS Validator"}),(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"version",className:"form-label",children:"ODPS version"}),(0,a.jsx)("select",{id:"version",className:"form-select",value:s,onChange:e=>n(e.target.value),children:r.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"content",className:"form-label",children:"Content to be validated"}),(0,a.jsx)("textarea",{id:"content",className:"form-control",rows:10,placeholder:"Paste valid YAML or JSON here",value:i,onChange:e=>o(e.target.value)})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Validate"})]}),d&&(0,a.jsxs)("div",{className:"mt-4",children:[d.error&&(0,a.jsxs)("div",{className:"alert alert-danger",children:["Error: ",d.error]}),d.valid&&(0,a.jsxs)("div",{className:"alert alert-success",children:["✔️ Content is valid for ",s]}),!d.valid&&d.errors&&(0,a.jsxs)("div",{className:"alert alert-danger",children:[(0,a.jsx)("h5",{children:"Validation errors:"}),(0,a.jsx)("ul",{children:d.errors.map((e,r)=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("strong",{children:[e.instancePath||"/",":"]})," ",e.message]},r))})]})]})]}),(0,a.jsxs)("footer",{className:"w-75 text-center mt-5",children:[(0,a.jsx)("hr",{}),(0,a.jsxs)("p",{className:"mb-1",children:["\xa9 ",new Date().getFullYear()," ",(0,a.jsx)("a",{href:"https://offlineagency.it",target:"_blank",rel:"noopener noreferrer",children:"Offline Agency"})]}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"https://github.com/offline-agency/odps-validator",target:"_blank",rel:"noopener noreferrer",children:"Help & Contribute on GitHub"})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[96,636,593,792],()=>r(2936)),_N_E=e.O()}]);